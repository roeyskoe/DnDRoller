@using System.ComponentModel.DataAnnotations

<div class="card bg-light m-1 fade @(ShouldShow?"show":"")" style="color:@Color; width:6em">
    <div class="card-header">
        <span class="float-left">@Title</span>
        @if (ThrowResult.Crit)
        {
            <span class="float-right">🌟</span>
        }
        
    </div>
    <div class="card-body">
        
        <p class="card-text">Hit: @ThrowResult.Hit</p>
        <p class="card-text">Dmg: @ThrowResult.Damage</p>
    </div>
</div>

@code {

    [Parameter]
    [Required]
    public ThrowResult ThrowResult { get; set; } = null!;

    [Parameter]
    public int Title { get; set; }

    [Parameter]
    public int Delay { get; set; }

    private string Color { get; set; } = null!;

    protected override void OnParametersSet()
    {
        Color = ThrowResult.Succeeded ? "var(--bs-green)" : "var(--bs-red)";
        Task.Run(async delegate
              {
                  await Task.Delay(Delay);
                  ShouldShow = true;
                  StateHasChanged();
              });
    }

    public bool ShouldShow { get; set; }
}
